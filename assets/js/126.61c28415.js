(window.webpackJsonp=window.webpackJsonp||[]).push([[126],{488:function(e,t,s){"use strict";s.r(t);var a=s(11),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("p",[e._v("Linux 的命令行与构建工具一般来说要比 Windows 好用，但 Windows 的用户界面毫无疑问要比 Linux 好用。以往在 Windows 10 上安装 Linux，要么是使用虚拟机，要么是使用双系统，总是无法做到两头兼顾。现在 Windows 10 有了 WSL 技术，使得「二者合一」成为了可能。")]),e._v(" "),s("h2",{attrs:{id:"wsl"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#wsl"}},[e._v("#")]),e._v(" WSL")]),e._v(" "),s("h3",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[e._v("#")]),e._v(" 安装")]),e._v(" "),s("p",[e._v("关于如何安装 WSL，可以参考 "),s("a",{attrs:{href:"https://docs.microsoft.com/zh-cn/windows/wsl/install-win10",target:"_blank",rel:"noopener noreferrer"}},[e._v("适用于 Linux 的 Windows 子系统安装指南 (Windows 10)"),s("OutboundLink")],1),e._v("，总的来说：")]),e._v(" "),s("ol",[s("li",[e._v("将 Windows 10 系统版本升到最高，如果需要安装 WSL 2 则目前来说需要比高更高（体验版）；")]),e._v(" "),s("li",[e._v("在「启用或关闭 Windows 功能」中，开启「适用于 Linux 的 Windows 子系统」，如果要安装 WSL 2 还需要开启「Hyper-V」；")]),e._v(" "),s("li",[e._v("在 Windows 10 应用商店中搜索关键字「Linux」，并选择自己喜欢的发行版下载，比如我选择了「Ubuntu」；")]),e._v(" "),s("li",[e._v("下载完成后，在开始菜单中找到它，并点击，会继续安装，过程大概需要几分钟；")]),e._v(" "),s("li",[e._v("安装完成后，会提示输入 username 与 password，此即为 Linux 的用户凭据，至此 WSL 已安装完毕。")])]),e._v(" "),s("h3",{attrs:{id:"权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#权限"}},[e._v("#")]),e._v(" 权限")]),e._v(" "),s("p",[e._v("为新增加的用户赋予 root 权限：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ sudo vim /etc/sudoers\n")])])]),s("p",[e._v("在：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("# User privilege specification\nroot\tALL=(ALL:ALL) ALL\n")])])]),s("p",[e._v("下面增加一行：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("username\tALL=(ALL:ALL) ALL\n")])])]),s("p",[e._v("这里的 username 即是刚才创建的用户名，"),s("code",[e._v(":wq!")]),e._v(" 退出即可。")]),e._v(" "),s("h3",{attrs:{id:"测试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#测试"}},[e._v("#")]),e._v(" 测试")]),e._v(" "),s("p",[e._v("安装完毕后，可以通过在终端输入 "),s("code",[e._v("wsl")]),e._v(" 来进入已安装的 Linux 子系统。Linux 与 Windows 共享文件系统，Windows 的文件可以在 "),s("code",[e._v("/mnt")]),e._v(" 下找到：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ ls /mnt/\nc d e f\n")])])]),s("p",[e._v("这里的 c d e f 就分别代表 C/D/E/F 盘。")]),e._v(" "),s("p",[e._v("查看发行版本：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ lsb_release -a\nNo LSB modules are available.\nDistributor ID: Ubuntu\nDescription:    Ubuntu 20.04 LTS\nRelease:        20.04\nCodename:       focal\n")])])]),s("h2",{attrs:{id:"terminal"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#terminal"}},[e._v("#")]),e._v(" Terminal")]),e._v(" "),s("p",[e._v("Windows 10 自带的 CommandLine 和 PowerShell 都不好用，而且丑。可以下载 Windows 新推出的 Windows Terminal，直接在 Windows 10 应用商店就能找到。")]),e._v(" "),s("p",[e._v("Github: "),s("a",{attrs:{href:"https://github.com/Microsoft/Terminal",target:"_blank",rel:"noopener noreferrer"}},[e._v("Microsoft/Terminal"),s("OutboundLink")],1)]),e._v(" "),s("p",[e._v("同样，打开 Windows Terminal 后可以输入 "),s("code",[e._v("wsl")]),e._v(" 来进入 Linux 子系统。")]),e._v(" "),s("h2",{attrs:{id:"git"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git"}},[e._v("#")]),e._v(" Git")]),e._v(" "),s("h3",{attrs:{id:"安装-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装-2"}},[e._v("#")]),e._v(" 安装")]),e._v(" "),s("p",[e._v("有了 WSL 后，开发相关工具环境都不需要在 Windows 下安装了。可以直接使用 Linux 内的程序。以 Git 为例：")]),e._v(" "),s("ol",[s("li",[e._v("打开 "),s("code",[e._v("C:\\Users\\[username]\\AppData\\Roaming\\")]),e._v("；")]),e._v(" "),s("li",[e._v("在这里新建一个 "),s("code",[e._v("bin")]),e._v(" 文件夹；")]),e._v(" "),s("li",[e._v("在文件夹内新建一个 "),s("code",[e._v("git.cmd")]),e._v(" 文件，输入内容："),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('@echo off\n%WINDIR%\\System32\\bash.exe -c "git %*"\n')])])])]),e._v(" "),s("li",[e._v("在 Path 内加入刚刚设置的文件："),s("code",[e._v("C:\\Users\\[username]\\AppData\\Roaming\\bin\\git.cmd")])])]),e._v(" "),s("p",[e._v("这样一来，就可以直接在 Windows 内访问到安装在 WSL 内的 git 了：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ git --version\ngit version 2.25.1\n")])])]),s("p",[e._v("除了 git 以外，其它程序也都可以如法炮制。")]),e._v(" "),s("h3",{attrs:{id:"ssh-key"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ssh-key"}},[e._v("#")]),e._v(" SSH Key")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('$ git config --global user.name "username"\n$ git config --global user.email "email@example.com"\n$ ssh-keygen -trsa -C "email@example.com"\n$ cat ~/.ssh/id_rsa.pub\n')])])]),s("p",[e._v("如此可以得到公钥。")]),e._v(" "),s("h2",{attrs:{id:"node-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#node-js"}},[e._v("#")]),e._v(" Node.js")]),e._v(" "),s("p",[e._v("使用 "),s("code",[e._v("apt get")]),e._v(" 之前，先替换一下镜像源：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ sudo vim /etc/apt/sources.list\n\n# 将文件内容替换为以下：\n# 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse\n\n# 预发布软件源，不建议启用\n# deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse\n")])])]),s("p",[e._v("这里使用的是 "),s("a",{attrs:{href:"https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/",target:"_blank",rel:"noopener noreferrer"}},[e._v("清华大学镜像源"),s("OutboundLink")],1),e._v("。")]),e._v(" "),s("h3",{attrs:{id:"node-js-npm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#node-js-npm"}},[e._v("#")]),e._v(" Node.js & NPM")]),e._v(" "),s("p",[e._v("替换完以后，安装 Node.js 与 NPM：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ sudo apt-get update\n$ sudo apt-get upgrade\n$ sudo apt-get install nodejs\n$ sudo apt-get install npm\n")])])]),s("h3",{attrs:{id:"n"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#n"}},[e._v("#")]),e._v(" n")]),e._v(" "),s("p",[e._v("安装 Node.js 版本管理工具 n:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ sudo npm install -g n\n# 查看所有已安装版本\n$ n ls\n# 安装最新的 LTS 版本并切换\n$ n lts\n")])])]),s("h3",{attrs:{id:"nrm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nrm"}},[e._v("#")]),e._v(" nrm")]),e._v(" "),s("p",[e._v("安装 NPM 源管理工具 nrm:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ sudo npm install -g nrm\n# 查看所有源\n$ nrm ls\n# 切换至 taobao 镜像源\n$ nrm use taobao\n")])])]),s("h3",{attrs:{id:"yarn"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#yarn"}},[e._v("#")]),e._v(" Yarn")]),e._v(" "),s("p",[e._v("安装 Yarn：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ sudo npm install -g yarn\n")])])]),s("h2",{attrs:{id:"webstorm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webstorm"}},[e._v("#")]),e._v(" WebStorm")]),e._v(" "),s("p",[e._v("WebStorm 可以直接与 WSL "),s("del",[e._v("完美")]),e._v("集成。")]),e._v(" "),s("ol",[s("li",[e._v("Terminal: File | Settings | Tools | Terminal，将 "),s("code",[e._v("Shell path")]),e._v(" 设置为 "),s("code",[e._v('"cmd.exe" /k "wsl.exe"')]),e._v("，这样 Terminal 打开就直接进入了 WSL")]),e._v(" "),s("li",[e._v("Git: File | Settings | Version Control | Git，将 "),s("code",[e._v("Path to Git excutable")]),e._v(" 设置为 "),s("code",[e._v("C:\\Users\\[username]\\AppData\\Roaming\\bin\\git.cmd")])]),e._v(" "),s("li",[e._v("Node.js: File | Settings | Languages & Frameworks | Node.js and NPM，"),s("code",[e._v("Node interpreter")]),e._v(" 这里选择 "),s("code",[e._v("Add")]),e._v(" 可以直接添加 WSL 内的 Node.js，NPM 在 "),s("code",[e._v("\\\\wsl$\\Ubuntu\\usr\\local\\lib\\node_modules\\npm")]),e._v("，Yarn 在 "),s("code",[e._v("\\\\wsl$\\Ubuntu\\usr\\local\\lib\\node_modules\\yarn")])])]),e._v(" "),s("p",[e._v("这样一来，就可以实现 「Windows 的开发界面，Linux 的开发工具」了。")]),e._v(" "),s("hr"),e._v(" "),s("p",[e._v("update:")]),e._v(" "),s("p",[e._v("目前发现 Git 的 Commit 功能会报错：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("Commit failed with error\n0 file committed, 2 files failed to commit: update theme\ncould not read log file 'C:UsersedisoAppDataLocalTempgit-commit-msg-.txt': No such file or directory\n")])])]),s("p",[e._v("Push 正常。")]),e._v(" "),s("p",[e._v("解决办法：")]),e._v(" "),s("ol",[s("li",[e._v("直接在 Terminal 内使用 "),s("code",[e._v("git commit")]),e._v("；")]),e._v(" "),s("li",[e._v("升级到 2020.2 版本（目前是 EAP），但是经测试该版本要求 WSL2 才能正常工作，也就是 Windows 也要升级到 EAP 才行。不推荐。")])])])}),[],!1,null,null,null);t.default=r.exports}}]);